<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="donation">
 	<insert id="addApplication" parameterType="applicationPostVO">
 		<selectKey keyProperty="appNo" resultType="string" order="BEFORE">
			select
			application_seq.nextval from dual
		</selectKey>
 		insert into application(
 		app_no, 
 		app_title, 
 		app_contents,
 		app_place,
 		app_imgdirectory,
 		goal_mileage,
 		start_date,
 		end_date,
 		app_status, 
 		id)
 		values(#{appNo}, 
 		#{appTitle}, 
 		#{appContents},
 		#{place},
 		#{imgDirectory},
 		#{goalMileage},
 		#{startDate},
 		#{endDate},
 		'처리중',
 		#{memberVO.id})
 	</insert>
 	
 	<insert id="addPresent" parameterType="presentVO">
 		insert into present(present_no, donation_mileage, present_contents, app_no) 
 		values(present_seq.nextval, #{donationMileage}, #{presentContents}, #{appNo})
 	</insert>
</mapper>